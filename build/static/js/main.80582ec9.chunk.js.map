{"version":3,"sources":["firebase.js","components/User.js","components/MessageForm.js","components/Message.js","pages/Home.js","context/auth.js","components/Navbar.js","pages/signup.js","pages/Login.js","App.js","index.js"],"names":["app","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","auth","getAuth","db","getFirestore","User","user","selectUser","className","onClick","src","alt","name","isOnline","MessageForm","handleSubmit","text","setText","onSubmit","type","placeholder","value","onChange","e","target","Message","msg","user1","check","scrollRef","useRef","useEffect","current","scrollIntoView","behavior","from","ref","color","fill","viewBox","seen","format","createdAt","toDate","Home","React","useState","users","setUsers","chat","setChat","msgs","setMsgs","currentUser","uid","usersRef","collection","q","query","where","unsub","onSnapshot","querySnapshot","forEach","doc","push","data","user2","id","msgsRef","orderBy","updateDoc","a","preventDefault","addDoc","to","Timestamp","fromDate","Date","map","length","i","AuthContext","createContext","AuthProvider","children","setUser","loading","setLoading","onAuthStateChanged","Provider","Navbar","navigate","useNavigate","useContext","handleSignOut","signOut","Signup","email","password","error","setData","handleChange","createUserWithEmailAndPassword","then","cred","setDoc","catch","message","htmlFor","disabled","Login","signInWithEmailAndPassword","App","path","element","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.80582ec9.chunk.js","sourcesContent":["// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\nimport{getAuth} from \"firebase/auth\";\r\nimport {getFirestore} from \"firebase/firestore\";\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId:process.env.REACT_APP_MESSAGING_SENDER_ID, \r\n  appId: process.env.REACT_APP_APP_ID,\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\nconst auth = getAuth(app);\r\nconst db= getFirestore(app);\r\nexport {auth,db};","import React from 'react'\r\n\r\nconst User = ({ user, selectUser }) => {\r\n    \r\n    return (\r\n        <div className=\"user_wrapper\" onClick={()=>selectUser(user)}>\r\n            <div className=\"user_info\">\r\n                <div className=\"user_detail\">\r\n                    <img src=\"https://mpng.subpng.com/20180509/fyq/kisspng-computer-icons-user-profile-clip-art-5af2c2026fcf73.188817051525858818458.jpg\" alt=\"avatar\" className=\"avatar\" />\r\n                    <h5>{user.name}</h5>\r\n                </div>\r\n                <div\r\n                    className={`user_status ${user.isOnline ? \"online\" : \"offline\"}`}  >\r\n                        \r\n                </div>\r\n            </div>\r\n        </div >\r\n\r\n    )\r\n}\r\nexport default User\r\n","import React from 'react'\r\n\r\nconst MessageForm = ({handleSubmit,text,setText}) => {\r\n    return (\r\n        <form className=\"message_form\" onSubmit={handleSubmit}>\r\n            <div>\r\n                <input type=\"text\" placeholder=\"Type a message...\" value={text} onChange={e=>setText(e.target.value)} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\" className=\"btn btn-outline-success\">Send</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default MessageForm\r\n","import React, { useRef, useEffect } from 'react'\r\nimport { Check, CheckAll } from 'react-bootstrap-icons';\r\nimport Moment from 'react-moment';\r\nconst Message = ({ msg, user1, check }) => {\r\n    const scrollRef = useRef();\r\n    useEffect(() => {\r\n        scrollRef.current.scrollIntoView({ behavior: 'smooth' })\r\n    }, [msg]);\r\n    return (\r\n        <div className={`message_wrapper ${msg.from === user1 ? \"own\" : \"\"}`}\r\n            ref={scrollRef}>\r\n            <p className={msg.from === user1 ? \"me\" : \"friend\"}>\r\n                {msg.text + \" \"}{check === false ? <Check color=\"royalblue\" fill=\"white\" viewBox=\"0 0 16 16\" /> : msg.seen === false ? <CheckAll color=\"royalblue\" fill=\"white\" viewBox=\"0 0 16 16\" /> : <CheckAll color=\"royalblue\"  viewBox=\"0 0 16 16\" />}\r\n                <br></br>\r\n\r\n            </p>\r\n            <h6><Moment format=\"h:mm a\">{msg.createdAt.toDate()}</Moment></h6>\r\n            {/* <div class=\"checkmark\">L</div> */}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Message\r\n","import React, { useEffect } from 'react'\r\nimport { db, auth } from '../firebase';\r\nimport { collection, query, where, updateDoc,onSnapshot, addDoc, Timestamp, orderBy } from 'firebase/firestore';\r\nimport User from '../components/User';\r\nimport MessageForm from '../components/MessageForm';\r\nimport Message from '../components/Message';\r\nfunction Home() {\r\n    const [users, setUsers] = React.useState([]);\r\n    const [chat, setChat] = React.useState(\"\");\r\n    const [text, setText] = React.useState(\"\");\r\n    const [msgs, setMsgs] = React.useState([]);\r\n    const user1 = auth.currentUser.uid;\r\n    useEffect(() => {\r\n        const usersRef = collection(db, \"users\");\r\n        // create query object\r\n        const q = query(usersRef, where(\"uid\", \"not-in\", [auth.currentUser.uid]));\r\n        // execute query\r\n        const unsub = onSnapshot(q, (querySnapshot) => {\r\n            let users = [];\r\n            querySnapshot.forEach((doc) => {\r\n                users.push(doc.data());\r\n            });\r\n            setUsers(users);\r\n        });\r\n        return () => unsub();\r\n    }, []);\r\n    const selectUser = (user) => {\r\n        setChat(user);\r\n        const user2 = user.uid;\r\n        const id = user1 > user2 ? user1 + user2 : user2 + user1;\r\n        const msgsRef = collection(db, \"messages\", id, 'chat');\r\n        const q = query(msgsRef, orderBy('createdAt', 'asc'));\r\n\r\n        onSnapshot(q, (querySnapshot) => {\r\n            let msgs = [];\r\n            querySnapshot.forEach((doc) => {\r\n                if(doc.data().from!==user1){\r\n                    updateDoc(doc.ref, {seen:true});\r\n                }\r\n                msgs.push(doc.data());\r\n            });\r\n            setMsgs(msgs);\r\n        });\r\n    }\r\n    const handleSubmit = async e => {\r\n\r\n        e.preventDefault();\r\n        const user2 = chat.uid;\r\n        const id = user1 > user2 ? `${user1 + user2}` : `${user2 + user1}`;\r\n        await addDoc(collection(db, 'messages', id, 'chat'), {\r\n            text,\r\n            from: user1,\r\n            to: user2,\r\n            createdAt: Timestamp.fromDate(new Date()),\r\n            seen: false\r\n        });\r\n        setText(\"\");\r\n    }\r\n    return (\r\n        <div className=\"home_container\">\r\n            <div className=\"users_container\">\r\n                {users.map(user => <User key={user.uid} user={user} selectUser={selectUser} />)}\r\n            </div>\r\n            <div className=\"messages_container\">\r\n                {chat ? (\r\n                    <>\r\n                        <div className=\"messages_user\">\r\n                            <h3>{chat.name}</h3>\r\n                        </div>\r\n                        <div className=\"messages\">\r\n\r\n                            {msgs.length ? msgs.map((msg, i) =>\r\n                                <Message key={i} msg={msg} user1={user1} check={chat.isOnline} />) : null}\r\n                        </div>\r\n                        <MessageForm handleSubmit={handleSubmit} text={text} setText={setText} />\r\n                    </>\r\n                ) : (<h3 className=\"no_conv\">Select a user to start conversation</h3>)}\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import { createContext,useEffect, useState } from \"react\";\r\nimport { auth } from \"../firebase\";\r\nimport {onAuthStateChanged} from \"firebase/auth\";\r\n\r\nexport const AuthContext = createContext();\r\n\r\nconst AuthProvider = ({children}) => {\r\n    const [user, setUser] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n       onAuthStateChanged(auth,(user) => {\r\n              setUser(user);\r\n                setLoading(false);\r\n         });\r\n    }, []);\r\n    if (loading) {\r\n        return 'LOading...';\r\n    }\r\n    return (\r\n        <AuthContext.Provider value={{user}}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    );\r\n};\r\n\r\nexport default AuthProvider;","import React, { useContext } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { auth, db } from \"../firebase\";\r\nimport { updateDoc, doc } from '@firebase/firestore';\r\nimport { signOut } from '@firebase/auth';\r\nimport { AuthContext } from \"../context/auth\";\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction Navbar() {\r\n    const navigate = useNavigate();\r\n    const { user } = useContext(AuthContext);\r\n    const handleSignOut = async () => {\r\n        await updateDoc(doc(db, 'users', auth.currentUser.uid), {\r\n            isOnline: false\r\n        })\r\n        await signOut(auth);\r\n        navigate('/login');\r\n    };\r\n    return (\r\n        <nav>\r\n            <h3>\r\n                <Link to=\"/home\">Whatsapp clone</Link>\r\n            </h3>\r\n            <div>\r\n                {user ? (\r\n                    <>\r\n                        <button onClick={handleSignOut} className=\" btn btn-danger\">Sign out</button>\r\n\r\n                    </>\r\n                ) : (\r\n                    <>\r\n                        <Link to=\"/login\">Login</Link>\r\n                        <Link to=\"/signup\">Signup</Link>\r\n                    </>\r\n                )}\r\n\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar\r\n","import React, { useState } from 'react';\r\nimport { createUserWithEmailAndPassword } from '@firebase/auth';\r\nimport { auth } from \"../firebase\";\r\nimport {setDoc, doc, Timestamp} from '@firebase/firestore';\r\nimport{db} from '../firebase';\r\nimport {useNavigate} from 'react-router-dom';\r\n\r\nfunction Signup() {\r\n    const [data, setData] = useState({\r\n        name: '',\r\n        email: '',\r\n        password: '',\r\n        error: '',\r\n        loading: false,\r\n    });\r\n    const { name, email, password, error, loading } = data;\r\n    const navigate = useNavigate();\r\n    const handleChange = (e) => {\r\n        setData({ ...data, error: '', [e.target.name]: e.target.value });\r\n    };\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        // console.log(data);\r\n        setData({ ...data, error: null, loading: true });\r\n        if (!name || !email || !password) {\r\n            setData({ ...data, error: 'Please enter all fields' });\r\n        }\r\n        createUserWithEmailAndPassword(auth, email, password).then(cred => {\r\n            setDoc(doc(db, 'users', cred.user.uid), {\r\n                uid: cred.user.uid,\r\n                name: name,\r\n                email: email,\r\n                password: password,\r\n                isOnline: true,\r\n                createdAt: Timestamp.fromDate(new Date()),\r\n            });\r\n            setData({name: '', email: '', password: '', error: null, loading: false});\r\n            navigate('/');\r\n        }).catch(error => {\r\n            setData({ ...data, error: error.message, loading: false });\r\n        });\r\n    };\r\n\r\n    return (\r\n        <section>\r\n            <h3>Create An Account</h3>\r\n            <form className=\"form\" onSubmit={handleSubmit}>\r\n                <div className=\"input_container\">\r\n                    <label htmlFor=\"first_name\">First Name</label>\r\n                    <input type=\"text\" name=\"name\" value={name} onChange={handleChange} />\r\n                </div>\r\n                <div className=\"input_container\">\r\n                    <label htmlFor=\"email\">Email</label>\r\n                    <input type=\"text\" name=\"email\" value={email} onChange={handleChange} />\r\n                </div>\r\n                <div className=\"input_container\">\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    <input type=\"password\" name=\"password\" value={password} onChange={handleChange} />\r\n                </div>\r\n                {error && <div className=\"error\">{error}</div>}\r\n                <div className=\"btn_container\">\r\n                    <button className=\"btn\" disabled={loading}>Sign Up</button>\r\n                </div>\r\n            </form>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Signup\r\n","import React, { useState } from 'react';\r\nimport { signInWithEmailAndPassword } from '@firebase/auth';\r\nimport { auth } from \"../firebase\";\r\nimport { doc, updateDoc} from '@firebase/firestore';\r\nimport{db} from '../firebase';\r\nimport {useNavigate} from 'react-router-dom';\r\n\r\nfunction Login() {\r\n    const [data, setData] = useState({\r\n        email: '',\r\n        password: '',\r\n        error: '',\r\n        loading: false,\r\n    });\r\n    const { email, password, error, loading } = data;\r\n    const navigate = useNavigate();\r\n    const handleChange = (e) => {\r\n        setData({ ...data, error: '', [e.target.name]: e.target.value });\r\n    };\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        // console.log(data);\r\n        setData({ ...data, error: null, loading: true });\r\n        if (!email || !password) {\r\n            setData({ ...data, error: 'Please enter all fields' });\r\n        }\r\n        signInWithEmailAndPassword(auth, email, password).then(cred => {\r\n            updateDoc(doc(db, 'users', cred.user.uid), {\r\n                isOnline: true,\r\n            });\r\n            setData({ email: '', password: '', error: null, loading: false});\r\n            navigate('/home');\r\n        }).catch(error => {\r\n            setData({ ...data, error: error.message, loading: false });\r\n        });\r\n    };\r\n    return (\r\n        <section>\r\n            <h3>Login to Whatsapp Clone</h3>\r\n            <form className=\"form\" onSubmit={handleSubmit}>\r\n                <div className=\"input_container\">\r\n                    <label htmlFor=\"email\">Email</label>\r\n                    <input type=\"text\" name=\"email\" value={email} onChange={handleChange} />\r\n                </div>\r\n                <div className=\"input_container\">\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    <input type=\"password\" name=\"password\" value={password} onChange={handleChange} />\r\n                </div>\r\n                {error && <div className=\"error\">{error}</div>}\r\n                <div className=\"btn_container\">\r\n                    <button className=\"btn\" disabled={loading}>{loading?\"Logging in..\":\"Login\"}</button>\r\n                </div>\r\n            </form>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Login;\r\n","import './App.css';\nimport { BrowserRouter as Router, Route, Routes } from \"react-router-dom\";\nimport Home from './pages/Home';\nimport Navbar from './components/Navbar';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Signup from './pages/signup';\nimport Login from './pages/Login';\nimport AuthProvider from './context/auth';\n\nfunction App() {\n  return (\n    <AuthProvider>\n      <Router>\n        <div className=\"App\">\n          <Navbar />\n          <Routes>\n            <Route path=\"/home\" element={<Home />} />\n            <Route path=\"/signup\" element={<Signup />} />\n            <Route path=\"/login\" element={<Login />} />\n          </Routes>\n        </div>\n      </Router>\n    </AuthProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}